import { DateTime } from "luxon";

export const rawdata = [
  {
    is_active: false,
    vehicle: {
      registration_number: "NA",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "12/15/2022",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "M-46250",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T15:00:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "imran",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T01:00:00",
              start_time: "2024-04-29T00:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Safi",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "N-92637",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "L-59068",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "M-47034",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T13:00:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Muammad",
                  last_name: "",
                  middle_name: "Ibrahim ",
                },
              },
            },
          ],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "N-58414",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "Z-45492",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T11:00:00",
              start_time: "2024-04-29T02:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Waseem",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
            {
              end_time: "2024-04-29T14:30:00",
              start_time: "2024-04-29T02:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Waseem",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T08:00:00",
              start_time: "2024-04-29T05:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Praveen",
                  last_name: "babu",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T03:00:00",
              start_time: "2024-04-29T00:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Abdul ",
                  last_name: "Shemeer",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "V 38985",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T15:00:00",
              start_time: "2024-04-29T03:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Anber",
                  last_name: "Mahmood",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T03:00:00",
              start_time: "2024-04-29T00:00:00",
              driver_vehicle: {
                user: {
                  first_name: "saleem",
                  last_name: "boat",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "X-97283",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "AA-88346",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T11:00:00",
              start_time: "2024-04-29T05:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Sanjayan",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T16:00:00",
              start_time: "2024-04-29T02:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Abseen",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "X-20792",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "AA-88345",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "54514",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "Z-45494",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T02:00:00",
              start_time: "2024-04-29T00:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Muyinda",
                  last_name: "Asadi",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T10:00:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "saleem",
                  last_name: "boat",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T10:30:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "saleem",
                  last_name: "baloshi",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T15:00:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "rupak",
                  last_name: "sitoula",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "M-46247",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T14:00:00",
              start_time: "2024-04-29T03:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Tanveer",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "N-90814",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "X-42380",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T13:00:00",
              start_time: "2024-04-29T03:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Afaq",
                  last_name: "Mukhtar",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T02:30:00",
              start_time: "2024-04-29T00:00:00",
              driver_vehicle: {
                user: {
                  first_name: "abdul",
                  last_name: "rahmanappada",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "N 90814",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T14:30:00",
              start_time: "2024-04-29T02:00:00",
              driver_vehicle: {
                user: {
                  first_name: "belvin",
                  last_name: "gomes",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "MT-20792",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "N-90814",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "TPT-001",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "L-83376",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "X-52928",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "P 81120",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "M 15578",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "AA-86673",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T15:30:00",
              start_time: "2024-04-29T04:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Sanjayan",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T12:00:00",
              start_time: "2024-04-29T03:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Abseen",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "X 73577",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: false,
    vehicle: {
      registration_number: "H-54267",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T18:00:00",
              start_time: "2024-04-29T15:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Sanjayan",
                  last_name: "",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [],
        },
        {
          shift_schedules: [
            {
              end_time: "2024-04-29T14:00:00",
              start_time: "2024-04-29T05:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Muyinda",
                  last_name: "Asadi",
                  middle_name: "",
                },
              },
            },
            {
              end_time: "2024-04-29T16:00:00",
              start_time: "2024-04-29T03:00:00",
              driver_vehicle: {
                user: {
                  first_name: "Muyinda",
                  last_name: "Asadi",
                  middle_name: "",
                },
              },
            },
          ],
        },
        {
          shift_schedules: [],
        },
      ],
    },
  },
  {
    is_active: true,
    vehicle: {
      registration_number: "AA-86674",
      driver_vehicles: [
        {
          shift_schedules: [],
        },
      ],
    },
  },
];

// const filteredData = data.map((vehicle: any) => {});
const shiftSchedules = [
  {
    start_time: "2024-05-05T00:00:00",
    end_time: "2024-05-05T14:30:00",
  },
  {
    start_time: "2024-05-05T16:00:00",
    end_time: "2024-05-05T17:30:00",
  },
  {
    start_time: "2024-05-05T15:00:00",
    end_time: "2024-05-05T15:30:00",
  },
];

//sorting logic for the shift
shiftSchedules.sort(function (a, b) {
  const t1 = Date.parse(a.start_time);
  const t2 = Date.parse(b.start_time);
  return t1 - t2;
});
const BowserStatus = {
  MAINTENANCE: "MAINTENANCE",
  MOVING: "MOVING",
  IDLE: "IDLE",
};
// milleseconds to this format 2024-05-05T15:30:00
// const convertMillisecondsToDateTimeString = (milliseconds: number) => {
//   const dt = DateTime.fromMillis(milliseconds);
//   return dt.toFormat("yyyy-MM-dd'T'HH:mm:ss");
// };

//milleseconds to  this format 15:30:00
const convertMillisecondsToTimeStamp = (milleSeconds) => {
  return DateTime.fromMillis(milleSeconds).toFormat("HH:mm:ss");
};

// 2024-05-05T15:30:00 to milleSeconds
const convertDateTimeStringToMilliseconds = (dateString) => {
  const milleseconds = Date.parse(dateString);
  return milleseconds;
};

const calculateEmptySlots = (shifts, regNo) => {
  const emptySlots = [];
  shifts.sort(function (a, b) {
    const t1 = Date.parse(a.start_time);
    const t2 = Date.parse(b.start_time);
    return t1 - t2;
  });
  // //for start
  // const startTimeMilleSeconds = convertDateTimeStringToMilliseconds(
  //   shifts[0].start_time
  // );
  // const startTimeStr = convertMillisecondsToTimeStamp(startTimeMilleSeconds);

  // //for end
  // const endTimeMilleSeconds = convertDateTimeStringToMilliseconds(
  //   shifts[shifts.length - 1].end_time
  // );
  // const endTimeStr = convertMillisecondsToTimeStamp(endTimeMilleSeconds);

  if (!shifts[0].start_time.includes("00:00:00")) {
    emptySlots.push({
      regNo: regNo,
      start_time: "2024-04-29T00:00:00", //TODO : change this later
      end_time: shifts[0].start_time,
      status: BowserStatus.IDLE,
      driverName: "No Driver Assigned",
    });
  }
  if (!shifts[shifts.length - 1].end_time.includes("00:00:00")) {
    emptySlots.push({
      regNo: regNo,
      start_time: shifts[shifts.length - 1].end_time,
      end_time: "2024-04-30T00:00:00", //TODO : change this later
      status: BowserStatus.IDLE,
      driverName: "No Driver Assigned",
    });
  }
  //for calculating emptySlots between the shifts
  shifts.forEach((shift, i) => {
    const nextShift = shifts[i + 1];
    if (shift?.end_time !== nextShift?.start_time && nextShift) {
      console.log(nextShift);
      emptySlots.push({
        regNo: regNo,
        start_time: shift?.end_time,
        end_time: nextShift?.start_time,
        status: BowserStatus.IDLE,
        driverName: "No Driver Assigned",
      });
    }
  });
  return emptySlots;
};
// interface BowserGantChartData {
//   regNo: string;
//   startTime: string;
//   endTime: string;
//   driverName: string;
//   status: BowserStatus;
// }
let count = 0;
export const finalData = rawdata
  .map((vehicle) => {
    const regNo = vehicle.vehicle.registration_number;
    if (!vehicle.is_active) {
      return {
        regNo: regNo,
        start_time: "2024-04-29T00:00:00", //change needed
        end_time: "2024-04-30T00:00:00", //change needed
        driverName: "",
        status: BowserStatus.MAINTENANCE,
      };
    }
    let shifts = [];
    let emptySlots = [];
    console.log(regNo);
    if (!vehicle.vehicle.driver_vehicles.length) {
      return {
        regNo: regNo,
        start_time: "2024-04-29T00:00:00",
        end_time: "2024-04-30T00:00:00",
        status: BowserStatus.IDLE,
        driverName: "No Driver Assigned",
      };
    } else {
      vehicle.vehicle.driver_vehicles.forEach((shift) => {
        if (shift.shift_schedules.length) {
          const tempShifts = shift.shift_schedules.map((shift) => {
            const { first_name, middle_name, last_name } =
              shift.driver_vehicle.user;
            return {
              regNo: regNo,
              start_time: shift?.end_time,
              end_time: shift.start_time,
              status: BowserStatus.MOVING,
              driverName: `${first_name} ${middle_name} ${last_name}`,
            };
          });

          shifts = [...shifts, ...tempShifts];
          emptySlots = [...calculateEmptySlots(shifts, regNo)];
        }
      });
      if (shifts.length === 0) {
        return {
          regNo: regNo,
          start_time: "2024-04-29T00:00:00",
          end_time: "2024-04-30T00:00:00",
          status: BowserStatus.IDLE,
          driverName: "No Driver Assigned",
        };
      }
    }
    return [...emptySlots, ...shifts];
    console.log(shifts, emptySlots, regNo, "final");

    // console.log(shifts, "final shifts for a particular vehicle");
    // console.log(emptySlots, "final empty slot for a particular vehicle");
    // return [...shifts, ...emptySlots];
  })
  .flat();

console.log(finalData);
